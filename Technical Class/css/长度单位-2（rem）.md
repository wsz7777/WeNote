[TOC]

# 长度单位——rem

​	我们常用的三种单位长度 `px` 、 `em` 、 `rem` 。 `px` 作为最常用的长度单位那先不说他， `em` 呢长度也比较固定，那 `rem` 作为我们熟悉的陌生人我们来具体了解一下它的作用。

## 初识 rem

​	回顾一下定义：

> 1rem = 文档根节点元素（即html元素）的字体大小

​	好我们继续，当时在学 `css` 的时候  `rem` 是真么来被使用的呢：

```css
html{
    font-size: 625%;
}
body{
    font-size: 0.16rem;
}
```

​	根节点的字体大小默认呢是 `16px` ，那通过上面这段代码的设定根节点字体大小为 `16px * 625% = 100px` 然后用 `body` 固定一下默认字体大小，不至于调试的时候需要设定所有每个元素的字体大小。为什么乘625%把单位长度扩大100倍呢？原因是在 `Chrome` 浏览器中会默认最小字体大小是 `12px` 如果设置 `font-size` 这个属性的值小于 `12px` 他会在后面的计算中把它转成 `12px` 来计算，导致后面的样式有问题。

## 学习到rem的最合适的用法

​	嗯，写到这里我是想吐槽我自己的，当时这么写有什么用？为什么不直接使用 `px` 更快、更简洁、更方便~对没错按照这种用的法来用的确不如直接写 `px` “更快、更高、更强”。在我没有学习到它真正的用处的时候，我都觉得用它是在浪费生命~“rem”三个字符，还得加换算，“px”不加换算，两个字符。。。谁用谁知道对吧~那我绝对选择 `px` 的。

​	后来进入到公司开始接触到这种新的开发流程，他们在开发的时候乙方有个特别的要求——按比例还原设计图。听到这个要求我是一脸懵逼的，全程百分比写吗?还是要怎么着，字体大小需要适配的话是要写多少媒体查询？但是我忽然想到了 `rem` 这么个神奇的东西——相对于根节点大小去设定单位长度。然后思路继续往下~页面比例如何与设计图比例相同？

```
比例系数为：页面宽度/设计图宽度
ps：页面宽度和屏幕宽度的概念先在这里视作同一概念
```

​	那既然拿到比例系数，联想一下最开始用 `rem` 的方法，同样需要去避开 `chrome` 中12px的限制。那么可以得出：

```
避开12px的限制:
根节点字体大小 = 默认字体大小 * 625%

比例系数为：页面宽度/设计图宽度

根节点字体大小 = 比例系数 * 625%

最后公式：
根节点字体大小 = 页面宽度 / 设计图宽度 * 625%
```

代码实现：

```js
/* 
* 1.因一些页面不会用到jquery或者为日后向框架转变，所以此处用原生方法实现
* 2.设计图是适配于移动端的所以设计图宽度为750px
* 3.css中"font-size : 625%;"使用百分比写字体大小会自动按默认字体大小缩放
* 4.这里使用 document.documentElement.clientWidth 避免了body宽度与屏幕宽度不同
*/
document.documentElement.style.fontSize = document.documentElement.clientWidth / 750 * 625 + '%';
```

例：最后在设计图中量取到 50px 在css编写时转换成 0.5rem 即可。